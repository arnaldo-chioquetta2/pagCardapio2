<!DOCTYPE html>
<html lang="pt-BR">
    <link rel="stylesheet" href="style.css">
    <style>
        .button-container {
            text-align: center;
            margin-top: 20px;
        }
        .button-container .button {
            margin: 0 10px;
        }        
    </style>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Card√°pioAI - Pr√©-visualiza√ß√£o do Layout</title>

</head>
<body>
    <header>
        <div class="container">
            <div id="branding">
                <h1><span class="highlight">Card√°pio</span>AI</h1>
            </div>
            <nav>
                <ul>
                    <li><a href="index.html">In√≠cio</a></li>
                    <li><a href="inserir-conteudo.html">Criar Card√°pio</a></li>
                    <li><a href="#">Sobre</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <div class="container">
        <h2>Pr√©-visualiza√ß√£o do Layout</h2>
        
        <div id="preview-container" style="text-align: center; padding: 20px;"></div>

        <div class="button-container">
            <button onclick="history.back()" class="button">Voltar</button>
            <a href="Geracao.html" class="button">Aprovar Layout</a>
        </div>        

    </div>

    <script src="config.js"></script>
    <script>
        const container = document.getElementById("preview-container");
    
        function getCookie(name) {
            const match = document.cookie.match(new RegExp('(^| )' + name + '=([^;]+)'));
            return match ? match[2] : null;
        }
    
        const layout = getCookie("layoutSelecionado");
    
        console.log("üß† Cookie lido: layoutSelecionado =", layout);
    
        if (!layout) {
            console.warn("‚ö†Ô∏è Nenhum layout foi selecionado no cookie.");
            container.innerHTML = "<p>Nenhum layout foi selecionado.</p>";
        } else {
            const img = document.createElement("img");
            img.src = `${API_BASE_URL}/cardapio/${layout}`;
            img.alt = "Layout Selecionado";
    
            console.log("üì∑ Imagem sendo carregada de:", img.src);
    
            img.onload = () => console.log("‚úÖ Imagem carregada com sucesso.");
            img.onerror = () => console.error("‚ùå Erro ao carregar a imagem:", img.src);
    
            container.appendChild(img);
        }
    </script>    
    
</body>
</html>